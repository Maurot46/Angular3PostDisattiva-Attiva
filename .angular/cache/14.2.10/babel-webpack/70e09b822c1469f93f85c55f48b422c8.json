{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ducat/Desktop/esercizi corso/Angular/Angula settimana 1/Angular giorno 3/Angular3Post/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { getPosts, modify } from '../posts.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    \"bg-warning\": a0,\n    \"bg-info\": a1,\n    \"bg-dark\": a2,\n    \"text-white\": a3\n  };\n};\n\nfunction ActivePostsPage_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h5\", 4);\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5)(4, \"h5\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ActivePostsPage_div_1_div_1_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const post_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.inactivePosts(post_r1.id, ctx_r3.i));\n    });\n    i0.ɵɵtext(9, \"Disattiva\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const post_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(3, _c0, post_r1.type == \"news\", post_r1.type == \"education\", post_r1.type == \"politic\", post_r1.type == \"politic\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(post_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r1.body, \" \");\n  }\n}\n\nfunction ActivePostsPage_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ActivePostsPage_div_1_div_1_Template, 10, 8, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", post_r1.active);\n  }\n}\n\nexport class ActivePostsPage {\n  constructor() {}\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const posts = yield getPosts();\n      _this.posts = posts;\n      console.log(posts);\n    })();\n  }\n\n  inactivePosts(id, i) {\n    modify({\n      active: false\n    }, id);\n    this.posts.splice(i, 1);\n  }\n\n}\n\nActivePostsPage.ɵfac = function ActivePostsPage_Factory(t) {\n  return new (t || ActivePostsPage)();\n};\n\nActivePostsPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ActivePostsPage,\n  selectors: [[\"ng-component\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"container\", \"mt-5\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"card mb-4\", 4, \"ngIf\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"card-body\", 3, \"ngClass\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function ActivePostsPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ActivePostsPage_div_1_Template, 2, 1, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";AAEA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,kBAAjC;;;;;;;;;;;;;;;;;IAMQC,+BAA2C,CAA3C,EAA2C,IAA3C,EAA2C,CAA3C;IAC0BA;IAAIA;IAC5BA,+BAKD,CALC,EAKD,IALC,EAKD,CALC;IAMyBA;IAAgBA;IACvCA;IACEA;IACFA;IACAA;IAAQA;MAAAA;MAAA;MAAA;MAAA,OAASA,0DAAT;IAAkC,CAAlC;IAA2DA;IAASA;;;;;IAVvDA;IAAAA;IAMEA;IAAAA;IAErBA;IAAAA;;;;;;IAXRA;IACEA;IAeFA;;;;;IAfQA;IAAAA;;;;AAoBd,OAAM,MAAOC,eAAP,CAAsB;EAE1BC,eACC;;EAEKC,QAAQ;IAAA;;IAAA;MACZ,MAAMC,KAAK,SAASN,QAAQ,EAA5B;MACA,KAAI,CAACM,KAAL,GAAaA,KAAb;MACAC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IAHY;EAIb;;EAEDG,aAAa,CAACC,EAAD,EAAaC,CAAb,EAAqB;IAChCV,MAAM,CAAC;MAACW,MAAM,EAAE;IAAT,CAAD,EAAkBF,EAAlB,CAAN;IACA,KAAKJ,KAAL,CAAWO,MAAX,CAAkBF,CAAlB,EAAoB,CAApB;EACD;;AAdyB;;;mBAAfR;AAAe;;;QAAfA;EAAeW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAtBxBhB;MACEA;MAiBFA;;;;MAjBwBA;MAAAA","names":["getPosts","modify","i0","ActivePostsPage","constructor","ngOnInit","posts","console","log","inactivePosts","id","i","active","splice","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\ducat\\Desktop\\esercizi corso\\Angular\\Angula settimana 1\\Angular giorno 3\\Angular3Post\\src\\app\\pages\\active-posts.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Post } from '../models/post';\nimport { getPosts, modify } from '../posts.service';\n\n@Component({\n  template: `\n    <div class=\"container mt-5\">\n      <div *ngFor=\"let post of posts\" >\n        <div *ngIf=\"post.active\" class=\"card mb-4\">\n          <h5 class=\"card-header\">Post</h5>\n          <div class=\"card-body\" [ngClass]=\"{\n        'bg-warning': post.type == 'news',\n        'bg-info': post.type == 'education',\n        'bg-dark': post.type == 'politic',\n        'text-white': post.type == 'politic'\n      }\">\n            <h5 class=\"card-title\">{{ post.title }}</h5>\n            <p class=\"card-text\">\n              {{ post.body }}\n            </p>\n            <button (click)=\"inactivePosts(post.id, i)\"class='btn btn-primary'>Disattiva</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [],\n})\nexport class ActivePostsPage implements OnInit {\n  posts!: Post[];\n  constructor() {\n  }\n\n  async ngOnInit() {\n    const posts = await getPosts();\n    this.posts = posts;\n    console.log(posts)\n  }\n\n  inactivePosts(id: number, i:number) {\n    modify({active: false}, id)\n    this.posts.splice(i,1)\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module"}